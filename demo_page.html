<!DOCTYPE html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<head><title>Flex Forms Webpage Demo</title></head>
<body>
<style type="text/css">
    body { font-family: Verdana, Arial, Helvetica, sans-serif; position: relative; color: #222222; font-size: 1.0em; }
</style>


<script type="text/javascript" src="src/flex_forms.js"></script>

<script type="text/javascript">
    (function() {
        var options = {
            fields: [
                'startrow',
                {
                    title: 'First Name',
                    width: '19em',
                    type: 'text',
                    name: 'first_name',
                    default: 'Joe'
                },
                {
                    title: 'Last Name',
                    width: '18em',
                    type: 'text',
                    name: 'last_name',
                    default: 'Smith'
                },
                'endrow',
                {
                    title: 'Test Multiselect',
                    width: '38em',
                    type: 'select',
                    multiple: true,
                    name: 'test_select',
                    options: [
                        { name: 'Test 1', value: 'Test 1' },
                        { name: 'Test 2', value: 'Test 2' },
                        { name: 'Test 3', value: 'Test 3' },
                    ],
                    default: { 'Test 1': true, 'Test 3': true }
                }
            ],
            submit: ['OK', 'Cancel'],
            submitname: 'test_submit'
        };

        var formWrap = FlexForms.Generate(document.body, options);
        var formNode = formWrap.querySelector('form');

        var SubmitHandler = function(e) {
            if (!e.isTrusted)  return;

            e.preventDefault();

            var formVars = FlexForms.GetFormVars(formNode, e);

            console.log(formVars);
        };

        formNode.addEventListener('submit', SubmitHandler);
    })();
</script>
</body>
</html>
